<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NexaRide — NCC Milano | Transfer aeroporti • Eventi • Aziende</title>
  <meta name="description" content="NCC premium a Milano: transfer aeroporti, eventi, business. Prenota su WhatsApp o telefono. Driver professionali, puntualità e comfort." />
  <link rel="canonical" href="https://nexaride.it/" />

  <!-- Open Graph -->
  <meta property="og:title" content="NexaRide — NCC Milano" />
  <meta property="og:description" content="Transfer aeroporti • Eventi • Aziende. Prenota in 1 minuto su WhatsApp." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://nexaride.it/" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root { color-scheme: dark; }
    html { scroll-behavior: smooth; }
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    section[id] { scroll-margin-top: 90px; }

    /* overlay hero non blocca click */
    .hero-overlay { pointer-events: none; }

    /* micro-spunta selezione flotta */
    .fleet-card { position: relative; }
    .fleet-badge {
      position: absolute;
      top: 14px;
      right: 14px;
      display: none;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.16);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      font-size: 12px;
      color: #fff;
      user-select: none;
      z-index: 5;
    }
    .fleet-badge .dot {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: #25D366;
      display: grid;
      place-items: center;
      color: #0b1a10;
      font-weight: 800;
      line-height: 1;
    }
    .fleet-card.is-selected { outline: 2px solid rgba(255,255,255,0.9); outline-offset: 0px; }
    .fleet-card.is-selected .fleet-badge { display: inline-flex; }

    /* segmented controls */
    .seg-wrap { display: flex; gap: 8px; flex-wrap: wrap; }
    .seg {
      cursor: pointer;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.04);
      padding: 10px 12px;
      border-radius: 16px;
      font-weight: 600;
      font-size: 14px;
      color: rgba(255,255,255,0.9);
      user-select: none;
      transition: background .15s ease, border-color .15s ease, transform .05s ease;
    }
    .seg:hover { background: rgba(255,255,255,0.07); border-color: rgba(255,255,255,0.18); }
    .seg:active { transform: translateY(1px); }
    .seg[aria-pressed="true"] { background: rgba(37,211,102,0.14); border-color: rgba(37,211,102,0.55); }

    /* sticky mobile bar */
    .stickybar {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 60;
      padding: 10px 12px;
      background: rgba(10,10,10,0.72);
      border-top: 1px solid rgba(255,255,255,0.10);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
  </style>

  <!-- LocalBusiness schema -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"LocalBusiness",
    "name":"NexaRide",
    "url":"https://nexaride.it/",
    "telephone":"+393208784091",
    "email":"info@nexaride.it",
    "areaServed":"Milano e Lombardia",
    "sameAs":[]
  }
  </script>
</head>

<body class="bg-neutral-950 text-neutral-100 pb-24 md:pb-0">
  <!-- Header -->
  <header class="sticky top-0 z-50 border-b border-white/10 bg-neutral-950/70 backdrop-blur">
    <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-3">
      <a href="#top" class="flex items-center gap-3">
        <div class="h-9 w-9 rounded-xl bg-white/10 ring-1 ring-white/10 grid place-items-center font-bold">NR</div>
        <div class="leading-tight">
          <div class="font-semibold">NexaRide</div>
          <div class="text-xs text-neutral-400">NCC Milano • Premium transfers</div>
        </div>
      </a>

      <nav class="hidden items-center gap-6 text-sm text-neutral-300 md:flex">
        <a href="#servizi" class="hover:text-white">Servizi</a>
        <a href="#flotta" class="hover:text-white">Flotta</a>
        <a href="#come-funziona" class="hover:text-white">Come funziona</a>
        <a href="#preventivo" class="hover:text-white">Preventivo</a>
        <a href="#faq" class="hover:text-white">FAQ</a>
      </nav>

      <div class="flex items-center gap-2">
        <a href="tel:+393208784091"
           class="hidden rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm font-semibold hover:bg-white/10 md:inline-flex">
          Chiama
        </a>

        <button id="ctaWATop" type="button"
           class="inline-flex items-center gap-2 rounded-2xl bg-[#25D366] px-4 py-2 text-sm font-semibold text-neutral-950 hover:opacity-90 active:opacity-80">
          WhatsApp
        </button>
      </div>
    </div>
  </header>

  <main id="top">
    <!-- Hero -->
    <section class="relative overflow-hidden">
      <div class="hero-overlay absolute inset-0 z-0 bg-[radial-gradient(ellipse_at_top,rgba(255,255,255,0.10),transparent_55%)]"></div>

      <div class="relative z-10 mx-auto grid max-w-6xl grid-cols-1 gap-10 px-4 py-16 md:grid-cols-2 md:py-20">
        <div>
          <div class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm text-neutral-200">
            <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
            Disponibilità su richiesta • 24/7
          </div>

          <h1 class="mt-5 text-4xl font-semibold leading-tight tracking-tight md:text-5xl">
            NCC e trasferimenti privati<br class="hidden md:block" />
            Milano & Lombardia
          </h1>

          <p class="mt-5 text-lg text-neutral-300">
            Aeroporti · città · lunghi viaggi · gruppi.<br class="hidden md:block" />
            Rispondiamo subito su WhatsApp: persona reale, preventivo rapido.
          </p>

          <div class="mt-8 flex flex-wrap gap-3">
            <button id="ctaWAHero" type="button"
              class="inline-flex items-center justify-center rounded-2xl bg-[#25D366] px-6 py-3 font-semibold text-neutral-950 hover:opacity-90 active:opacity-80">
              Scrivici ora su WhatsApp
            </button>

            <button id="ctaScrollToForm" type="button"
              class="inline-flex items-center justify-center rounded-2xl border border-white/10 bg-white/5 px-6 py-3 font-semibold hover:bg-white/10 active:bg-white/15">
              Compila i dettagli del viaggio
            </button>
          </div>

          <div class="mt-3 text-xs text-neutral-400">
            Preventivo immediato · Senza app · Persona reale · <span class="text-neutral-200 font-semibold">Risposta tipica: 2–5 min</span>
          </div>

          <div class="mt-8 grid gap-4 text-sm text-neutral-300 md:grid-cols-2">
            <div class="rounded-3xl border border-white/10 bg-white/5 p-5">
              <div class="font-semibold text-white">Driver professionali</div>
              <div class="mt-1">Riservatezza, attenzione e guida fluida.</div>
            </div>
            <div class="rounded-3xl border border-white/10 bg-white/5 p-5">
              <div class="font-semibold text-white">Puntualità</div>
              <div class="mt-1">Monitoraggio voli e gestione tempi concordata.</div>
            </div>
          </div>

          <div class="mt-8 text-sm text-neutral-400">
            WhatsApp Business: <span class="text-white font-semibold">+39 320 878 4091</span> •
            Email: <a class="underline hover:text-white" href="mailto:info@nexaride.it">info@nexaride.it</a>
          </div>
        </div>

        <div class="relative">
          <div class="rounded-[2rem] border border-white/10 bg-white/5 p-7 shadow-2xl shadow-black/50">
            <div class="flex items-start justify-between gap-4">
              <div>
                <div class="text-sm text-neutral-300">Servizi principali</div>
                <div class="mt-1 text-xl font-semibold">Aeroporti • Eventi • Business</div>
              </div>
              <div class="rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-neutral-200">
                Milano & Lombardia
              </div>
            </div>

            <div class="mt-6 grid gap-4">
              <div class="rounded-3xl border border-white/10 bg-neutral-950/40 p-5">
                <div class="text-white font-semibold">Transfer aeroporti</div>
                <div class="mt-1 text-neutral-300">MXP • LIN • BGY • Stazioni • Hotel</div>
              </div>
              <div class="rounded-3xl border border-white/10 bg-neutral-950/40 p-5">
                <div class="text-white font-semibold">Eventi & Fashion</div>
                <div class="mt-1 text-neutral-300">Fiere • concerti • meeting • serate</div>
              </div>
              <div class="rounded-3xl border border-white/10 bg-neutral-950/40 p-5">
                <div class="text-white font-semibold">Aziende</div>
                <div class="mt-1 text-neutral-300">Ore / giornate • driver dedicato</div>
              </div>
            </div>

            <div class="mt-6">
              <button id="ctaWACard" type="button"
                class="w-full inline-flex items-center justify-center rounded-2xl bg-[#25D366] text-neutral-950 px-5 py-3 font-semibold hover:opacity-90 active:opacity-80">
                Prenota / Chiedi disponibilità su WhatsApp
              </button>
              <p class="mt-3 text-xs text-neutral-400">
                Preventivo gratuito, nessun impegno. Conferma e dettagli via WhatsApp/telefono.
              </p>
              <p class="mt-2 text-xs text-neutral-500">
                Risposta tipica: 2–5 minuti.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Come funziona -->
    <section id="come-funziona" class="border-t border-white/10 bg-white/5">
      <div class="mx-auto max-w-6xl px-4 py-12">
        <h2 class="text-3xl font-semibold">Come funziona</h2>
        <div class="mt-8 grid gap-4 md:grid-cols-3">
          <div class="rounded-3xl border border-white/10 bg-neutral-950/40 p-6">
            <div class="text-sm text-neutral-400">Step 1</div>
            <div class="mt-1 text-lg font-semibold">Invia i dettagli</div>
            <p class="mt-2 text-neutral-300">Partenza, destinazione, fermate, data/ora, passeggeri.</p>
          </div>
          <div class="rounded-3xl border border-white/10 bg-neutral-950/40 p-6">
            <div class="text-sm text-neutral-400">Step 2</div>
            <div class="mt-1 text-lg font-semibold">Preventivo rapido</div>
            <p class="mt-2 text-neutral-300">Risposta su WhatsApp/telefono con disponibilità e prezzo.</p>
          </div>
          <div class="rounded-3xl border border-white/10 bg-neutral-950/40 p-6">
            <div class="text-sm text-neutral-400">Step 3</div>
            <div class="mt-1 text-lg font-semibold">Servizio premium</div>
            <p class="mt-2 text-neutral-300">Driver professionale, puntualità, comfort e riservatezza.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Flotta -->
    <section id="flotta" class="mx-auto max-w-6xl px-4 py-16">
      <h2 class="text-3xl font-semibold">La nostra flotta</h2>
      <p class="mt-3 text-neutral-300 max-w-2xl">
        Seleziona la categoria più adatta: comfort, rappresentanza o van per gruppi.
      </p>

      <div class="mt-10 grid gap-6 md:grid-cols-3">
        <!-- COMFORT / SUV -->
        <div id="card-comfort" data-vehicle-key="comfort" data-vehicle-label="Comfort / SUV (Toyota RAV4)"
          class="fleet-card cursor-pointer rounded-3xl border border-white/10 bg-white/5 overflow-hidden transition hover:scale-[1.01] hover:border-white/20">
          <div class="fleet-badge"><span class="dot">✓</span> Selezionato</div>
          <img src="/rav4_industriale.png" alt="Toyota RAV4 NCC" class="w-full h-48 object-cover">
          <div class="p-6">
            <h3 class="text-xl font-semibold">Comfort / SUV</h3>
            <p class="mt-2 text-neutral-300">
              Toyota RAV4 · ideale per città, aeroporti e viaggi comodi fino a 4 passeggeri.
            </p>
            <p class="mt-4 text-xs text-neutral-400">Tocca per selezionare</p>
          </div>
        </div>

        <!-- EXECUTIVE -->
        <div id="card-executive" data-vehicle-key="executive" data-vehicle-label="Executive (Mercedes Classe E)"
          class="fleet-card cursor-pointer rounded-3xl border border-white/10 bg-white/5 overflow-hidden transition hover:scale-[1.01] hover:border-white/20">
          <div class="fleet-badge"><span class="dot">✓</span> Selezionato</div>
          <img src="/classeE_industriale.png" alt="Mercedes Classe E NCC" class="w-full h-48 object-cover">
          <div class="p-6">
            <h3 class="text-xl font-semibold">Executive</h3>
            <p class="mt-2 text-neutral-300">
              Mercedes Classe E · comfort e immagine per clienti business e VIP.
            </p>
            <p class="mt-4 text-xs text-neutral-400">Tocca per selezionare</p>
          </div>
        </div>

        <!-- VAN -->
        <div id="card-van" data-vehicle-key="van" data-vehicle-label="Van / Gruppi (Mercedes Classe V / Vito)"
          class="fleet-card cursor-pointer rounded-3xl border border-white/10 bg-white/5 overflow-hidden transition hover:scale-[1.01] hover:border-white/20">
          <div class="fleet-badge"><span class="dot">✓</span> Selezionato</div>
          <img src="/classeV_industriale.png" alt="Mercedes Classe V / Vito NCC" class="w-full h-48 object-cover">
          <div class="p-6">
            <h3 class="text-xl font-semibold">Van / Gruppi</h3>
            <p class="mt-2 text-neutral-300">
              Mercedes Classe V / Vito · fino a 7 passeggeri + bagagli. Perfetto per gruppi e trasferte.
            </p>
            <p class="mt-4 text-xs text-neutral-400">Tocca per selezionare</p>
          </div>
        </div>
      </div>

      <!-- CTA unico flotta -->
      <div class="mt-12 flex justify-center">
        <button id="ctaFleet" type="button"
          class="inline-flex items-center justify-center rounded-2xl bg-white px-8 py-4 text-lg font-semibold text-neutral-950 hover:bg-neutral-200 active:bg-neutral-300">
          Richiedi preventivo
        </button>
      </div>

      <p class="mt-3 text-center text-xs text-neutral-400">
        Seleziona un veicolo sopra per pre-compilare automaticamente il form.
      </p>
    </section>

    <!-- Preventivo -->
    <section id="preventivo" class="mx-auto max-w-6xl px-4 py-12">
      <div class="rounded-[2rem] border border-white/10 bg-white/5 p-8">
        <div class="flex flex-col gap-6 md:flex-row md:items-end md:justify-between">
          <div>
            <h2 class="text-3xl font-semibold">Richiedi preventivo</h2>
            <p class="mt-2 text-neutral-300">Compila i dettagli e invia in un click su WhatsApp.</p>

            <!-- (10) label dinamica veicolo selezionato -->
            <div id="selectedVehicleWrap" class="mt-3 hidden">
              <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm text-neutral-200">
                <span class="h-2 w-2 rounded-full bg-[#25D366]"></span>
                Veicolo selezionato: <span id="selectedVehicleLabel" class="font-semibold text-white"></span>
              </span>
            </div>

            <div class="mt-4 text-sm text-neutral-300">
              WhatsApp Business: <span class="text-white font-semibold">+39 320 878 4091</span> •
              Email: <a class="underline hover:text-white" href="mailto:info@nexaride.it">info@nexaride.it</a>
            </div>

            <!-- (7) tempo risposta + (9) anti-paura prezzo -->
            <div class="mt-2 text-xs text-neutral-400">
              Preventivo gratuito, nessun impegno · Risposta tipica: <span class="text-neutral-200 font-semibold">2–5 min</span>
            </div>
          </div>

          <div class="flex flex-wrap gap-3">
            <a href="tel:+393208784091"
              class="inline-flex items-center justify-center rounded-2xl border border-white/10 bg-white/5 px-5 py-3 font-semibold hover:bg-white/10">
              Preferisco chiamare
            </a>

            <button id="ctaWAOpenGeneric" type="button"
              class="inline-flex items-center justify-center rounded-2xl bg-[#25D366] px-5 py-3 font-semibold text-neutral-950 hover:opacity-90 active:opacity-80">
              Apri WhatsApp
            </button>
          </div>
        </div>

        <!-- (1) alert campi mancanti -->
        <div id="formAlert" class="mt-6 hidden rounded-2xl border border-red-500/30 bg-red-500/10 px-5 py-4 text-sm text-red-100">
          <div class="font-semibold">Completa i campi obbligatori</div>
          <div id="formAlertText" class="mt-1 text-red-100/90"></div>
        </div>

        <form id="quoteForm" class="mt-8 grid grid-cols-1 gap-4 md:grid-cols-4">
          <!-- (6) Preferenza contatto -->
          <div class="md:col-span-4">
            <label class="text-sm text-neutral-300">Preferenza contatto</label>
            <div class="mt-2 seg-wrap">
              <button type="button" class="seg" id="prefWA" aria-pressed="true">WhatsApp</button>
              <button type="button" class="seg" id="prefCall" aria-pressed="false">Chiamata</button>
            </div>
            <p class="mt-2 text-xs text-neutral-400">
              Se selezioni “Chiamata”, ti richiameremo appena possibile.
            </p>
          </div>

          <!-- CATEGORIA VEICOLO (OBBLIGATORIA) -->
          <div class="md:col-span-2">
            <label class="text-sm text-neutral-300">Categoria veicolo</label>

            <select id="vehicle" required
              class="mt-1 w-full rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3 text-neutral-100">
              <option value="" disabled selected>Seleziona categoria veicolo</option>
              <option value="Comfort / SUV (Toyota RAV4)">Comfort / SUV (Toyota RAV4)</option>
              <option value="Executive (Mercedes Classe E)">Executive (Mercedes Classe E)</option>
              <option value="Van / Gruppi (Mercedes Classe V / Vito)">Van / Gruppi (Mercedes Classe V / Vito)</option>
            </select>

            <p class="mt-2 text-xs text-neutral-400">
              Puoi selezionare anche il Van per 1–2 passeggeri se desideri più spazio e comfort.
            </p>
          </div>

          <div class="md:col-span-2">
            <label class="text-sm text-neutral-300">Tipo servizio</label>
            <select id="serviceType"
              class="mt-1 w-full rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3 text-neutral-100">
              <option value="Transfer singolo" selected>Transfer singolo</option>
              <option value="A ore / disposizione">A ore / disposizione</option>
              <option value="A/R (andata e ritorno)">A/R (andata e ritorno)</option>
              <option value="Giornata intera">Giornata intera</option>
            </select>
          </div>

          <div class="md:col-span-2">
            <label class="text-sm text-neutral-300">Partenza</label>
            <input id="from" required
              class="mt-1 w-full rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3 text-neutral-100 placeholder:text-neutral-500"
              placeholder="Es. Milano Centro" />
          </div>

          <div class="md:col-span-2">
            <label class="text-sm text-neutral-300">Destinazione</label>
            <input id="to" required
              class="mt-1 w-full rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3 text-neutral-100 placeholder:text-neutral-500"
              placeholder="Es. MXP Malpensa" />
          </div>

          <div class="md:col-span-4">
            <label class="text-sm text-neutral-300">Fermate intermedie (opzionale)</label>
            <input id="stops"
              class="mt-1 w-full rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3 text-neutral-100 placeholder:text-neutral-500"
              placeholder="Es. Milano Centrale → Hotel → Ufficio" />
          </div>

          <div class="md:col-span-2">
            <label class="text-sm text-neutral-300">Data / Ora</label>
            <input id="when" required type="datetime-local"
              class="mt-1 w-full rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3 text-neutral-100" />
            <p class="mt-2 text-xs text-neutral-400">
              Suggerimento: abbiamo preimpostato una data/ora indicativa (modificabile).
            </p>
          </div>

          <div class="md:col-span-2">
            <label class="text-sm text-neutral-300">Passeggeri</label>
            <select id="pax" required
              class="mt-1 w-full rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3 text-neutral-100">
              <option value="" disabled selected>Seleziona</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
            </select>
          </div>

          <!-- (4) Bagagli (3 opzioni) -->
          <div class="md:col-span-2">
            <label class="text-sm text-neutral-300">Bagagli (consigliato)</label>
            <div class="mt-2 seg-wrap">
              <button type="button" class="seg" id="lugNone" aria-pressed="true">Nessuno</button>
              <button type="button" class="seg" id="lugSome" aria-pressed="false">1–2 valigie</button>
              <button type="button" class="seg" id="lugMany" aria-pressed="false">Molti bagagli</button>
            </div>
            <p class="mt-2 text-xs text-neutral-400">
              Ci aiuta a confermare la categoria migliore e lo spazio necessario.
            </p>
          </div>

          <!-- (5) Fattura -->
          <div class="md:col-span-2">
            <label class="text-sm text-neutral-300">Fattura</label>
            <div class="mt-2 rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3">
              <label class="flex items-center gap-3 text-sm text-neutral-200 cursor-pointer select-none">
                <input id="invoice" type="checkbox" class="h-5 w-5 accent-[#25D366]" />
                Serve fattura
              </label>
              <p class="mt-2 text-xs text-neutral-400">
                Se spuntato, ti chiediamo i dati in chat.
              </p>
            </div>
          </div>

          <div class="md:col-span-2">
            <label class="text-sm text-neutral-300">Nome</label>
            <input id="name"
              class="mt-1 w-full rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3 text-neutral-100 placeholder:text-neutral-500"
              placeholder="Es. Marco" />
          </div>

          <div class="md:col-span-2">
            <label class="text-sm text-neutral-300">Telefono (opzionale)</label>
            <input id="phoneInput"
              class="mt-1 w-full rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3 text-neutral-100 placeholder:text-neutral-500"
              placeholder="Es. +39 3xx xxx xxxx" />
          </div>

          <div class="md:col-span-4">
            <label class="text-sm text-neutral-300">Note (opzionale)</label>
            <textarea id="notes" rows="3"
              class="mt-1 w-full rounded-2xl border border-white/10 bg-neutral-950/40 px-4 py-3 text-neutral-100 placeholder:text-neutral-500"
              placeholder="Es. seggiolino, fattura intestata a..., attesa 15 min, fermate..."></textarea>
          </div>

          <div class="md:col-span-4 flex flex-wrap gap-3">
            <button type="submit" id="submitBtn"
              class="inline-flex items-center justify-center rounded-2xl bg-[#25D366] px-6 py-3 font-semibold text-neutral-950 hover:opacity-90 active:opacity-80">
              Invia su WhatsApp
            </button>

            <button type="button" id="resetBtn"
              class="inline-flex items-center justify-center rounded-2xl border border-white/10 bg-white/5 px-6 py-3 font-semibold hover:bg-white/10">
              Reset
            </button>
          </div>

          <p class="md:col-span-4 text-xs text-neutral-400">
            Inviando il messaggio accetti di essere ricontattato/a per la gestione della richiesta.
            <a href="/privacy" class="underline hover:text-neutral-200">Privacy</a>
          </p>
        </form>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="mx-auto max-w-6xl px-4 py-12">
      <h2 class="text-3xl font-semibold">FAQ</h2>
      <div class="mt-8 grid gap-4 md:grid-cols-2">
        <details class="rounded-3xl border border-white/10 bg-white/5 p-6">
          <summary class="cursor-pointer font-semibold">Quanto prima devo prenotare?</summary>
          <p class="mt-3 text-neutral-200">Consigliamo il prima possibile. In caso di urgenza, contattaci: verifichiamo la disponibilità.</p>
        </details>

        <details class="rounded-3xl border border-white/10 bg-white/5 p-6">
          <summary class="cursor-pointer font-semibold">Accettate pagamenti con carta?</summary>
          <p class="mt-3 text-neutral-200">Sì, il metodo di pagamento viene concordato in fase di conferma del servizio.</p>
        </details>

        <details class="rounded-3xl border border-white/10 bg-white/5 p-6">
          <summary class="cursor-pointer font-semibold">Fate attesa in aeroporto?</summary>
          <p class="mt-3 text-neutral-200">Sì. Monitoriamo il volo e concordiamo l’attesa in base alle necessità.</p>
        </details>

        <details class="rounded-3xl border border-white/10 bg-white/5 p-6">
          <summary class="cursor-pointer font-semibold">Posso richiedere seggiolino?</summary>
          <p class="mt-3 text-neutral-200">Certo. Scrivilo nelle note e ti confermiamo disponibilità e dettagli.</p>
        </details>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="border-t border-white/10 bg-neutral-950">
    <div class="mx-auto max-w-6xl px-4 py-10">
      <div class="flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
        <div>
          <div class="font-semibold">NexaRide</div>
          <div class="mt-2 text-sm text-neutral-400">
            Tel/WhatsApp: +39 320 878 4091 • Email: <a class="underline hover:text-white" href="mailto:info@nexaride.it">info@nexaride.it</a>
          </div>
          <div class="mt-2 text-xs text-neutral-500">© <span id="y"></span> NexaRide. Tutti i diritti riservati.</div>
        </div>

        <div class="flex flex-wrap gap-3 text-sm">
          <button id="ctaWAFooter" type="button"
            class="rounded-2xl bg-[#25D366] px-4 py-2 font-semibold text-neutral-950 hover:opacity-90 active:opacity-80">
            WhatsApp
          </button>
          <a class="rounded-2xl border border-white/10 bg-white/5 px-4 py-2 font-semibold hover:bg-white/10"
             href="tel:+393208784091">Chiama</a>
          <a class="rounded-2xl border border-white/10 bg-white/5 px-4 py-2 font-semibold hover:bg-white/10"
             href="/privacy">Privacy</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- (8) Sticky CTA mobile -->
  <div class="stickybar md:hidden">
    <div class="mx-auto max-w-6xl flex gap-2 px-2">
      <button id="stickyWA" type="button"
        class="flex-1 inline-flex items-center justify-center rounded-2xl bg-[#25D366] px-4 py-3 text-sm font-semibold text-neutral-950 hover:opacity-90 active:opacity-80">
        WhatsApp
      </button>
      <button id="stickyPreventivo" type="button"
        class="flex-1 inline-flex items-center justify-center rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm font-semibold hover:bg-white/10 active:bg-white/15">
        Preventivo
      </button>
    </div>
  </div>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();

    // WhatsApp number (digits only)
    const WA_PHONE = "393208784091";

    function openWhatsAppWithText(text) {
      const url = `https://wa.me/${WA_PHONE}?text=${encodeURIComponent(text)}`;
      window.open(url, "_blank", "noopener");
    }

    function scrollToPreventivoAndFocus() {
      const section = document.getElementById("preventivo");
      section.scrollIntoView({ behavior: "smooth", block: "start" });
      setTimeout(() => {
        const el = document.getElementById("vehicle");
        if (el) el.focus({ preventScroll: true });
      }, 350);
    }

    // Min datetime: adesso
    function setMinDateTimeNow() {
      const el = document.getElementById("when");
      if (!el) return;
      const now = new Date();
      const pad = (n) => String(n).padStart(2, "0");
      const min = `${now.getFullYear()}-${pad(now.getMonth()+1)}-${pad(now.getDate())}T${pad(now.getHours())}:${pad(now.getMinutes())}`;
      el.min = min;
    }

    // (2) Prefill: adesso + 60 min (se vuoto)
    function setDefaultDateTimePlus60() {
      const el = document.getElementById("when");
      if (!el) return;
      if (el.value) return;

      const d = new Date();
      d.setMinutes(d.getMinutes() + 60);

      const pad = (n) => String(n).padStart(2, "0");
      const val = `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}T${pad(d.getHours())}:${pad(d.getMinutes())}`;
      el.value = val;
    }

    setMinDateTimeNow();
    setDefaultDateTimePlus60();

    // YYYY-MM-DDTHH:MM -> DD/MM/YYYY HH:MM
    function formatDateTimeIT(dtLocalValue) {
      if (!dtLocalValue) return "";
      const [datePart, timePart] = dtLocalValue.split("T");
      if (!datePart || !timePart) return dtLocalValue;
      const [y, m, d] = datePart.split("-");
      return `${d}/${m}/${y} ${timePart}`;
    }

    // Base message per CTA generiche (non form)
    const baseMsg = [
      "Ciao! Vorrei un preventivo NCC con NexaRide.",
      "",
      "Partenza:",
      "Destinazione:",
      "Data/Ora:",
      "Passeggeri:",
      "Categoria veicolo (Comfort / Executive / Van):",
      "Bagagli:",
      "Serve fattura (sì/no):",
      "Preferenza contatto (WhatsApp / Chiamata):",
      "Note:"
    ].join("\n");

    // CTA WhatsApp (hero/header/card/footer)
    document.getElementById("ctaWATop").addEventListener("click", () => openWhatsAppWithText(baseMsg));
    document.getElementById("ctaWAHero").addEventListener("click", () => openWhatsAppWithText(baseMsg));
    document.getElementById("ctaWACard").addEventListener("click", () => openWhatsAppWithText(baseMsg));
    document.getElementById("ctaWAFooter").addEventListener("click", () => openWhatsAppWithText(baseMsg));
    document.getElementById("ctaWAOpenGeneric").addEventListener("click", () => openWhatsAppWithText(baseMsg));

    // CTA "Compila i dettagli"
    document.getElementById("ctaScrollToForm").addEventListener("click", () => scrollToPreventivoAndFocus());

    // Sticky bar actions
    document.getElementById("stickyWA").addEventListener("click", () => openWhatsAppWithText(baseMsg));
    document.getElementById("stickyPreventivo").addEventListener("click", () => scrollToPreventivoAndFocus());

    // --- Flotta selection + micro-spunta ---
    const vehicleSelect = document.getElementById("vehicle");
    const fleetCards = Array.from(document.querySelectorAll(".fleet-card"));

    function clearFleetSelection() {
      fleetCards.forEach(c => c.classList.remove("is-selected"));
    }

    function selectFleetByLabel(label) {
      clearFleetSelection();
      const card = fleetCards.find(c => c.getAttribute("data-vehicle-label") === label);
      if (card) card.classList.add("is-selected");
    }

    function setVehicleSelectValue(label) {
      if (!vehicleSelect) return;
      vehicleSelect.value = label;
      vehicleSelect.dispatchEvent(new Event("change", { bubbles: true }));
    }

    // (10) label dinamica veicolo selezionato
    const selectedVehicleWrap = document.getElementById("selectedVehicleWrap");
    const selectedVehicleLabel = document.getElementById("selectedVehicleLabel");

    function updateSelectedVehicleUI() {
      const v = (vehicleSelect?.value || "").trim();
      if (v) {
        selectedVehicleLabel.textContent = v;
        selectedVehicleWrap.classList.remove("hidden");
      } else {
        selectedVehicleWrap.classList.add("hidden");
        selectedVehicleLabel.textContent = "";
      }
    }

    // Click su card -> seleziona nel form + spunta
    fleetCards.forEach(card => {
      card.addEventListener("click", () => {
        const label = card.getAttribute("data-vehicle-label");
        if (label) setVehicleSelectValue(label);
        selectFleetByLabel(label);
        updateSelectedVehicleUI();
        // porta al form quando cliccano la flotta? non lo forzo (meno invasivo)
      });
    });

    // Cambio select -> aggiorna spunta card + label
    vehicleSelect.addEventListener("change", () => {
      const label = vehicleSelect.value;
      if (label) selectFleetByLabel(label);
      updateSelectedVehicleUI();
    });

    // CTA flotta -> scroll al form
    document.getElementById("ctaFleet").addEventListener("click", () => {
      scrollToPreventivoAndFocus();
    });

    // --- (6) Preferenza contatto (segmented) ---
    let contactPref = "WhatsApp";
    const prefWA = document.getElementById("prefWA");
    const prefCall = document.getElementById("prefCall");

    function setContactPref(v) {
      contactPref = v;
      prefWA.setAttribute("aria-pressed", v === "WhatsApp" ? "true" : "false");
      prefCall.setAttribute("aria-pressed", v === "Chiamata" ? "true" : "false");
    }
    prefWA.addEventListener("click", () => setContactPref("WhatsApp"));
    prefCall.addEventListener("click", () => setContactPref("Chiamata"));

    // --- (4) Bagagli (segmented) ---
    let luggage = "Nessuno";
    const lugNone = document.getElementById("lugNone");
    const lugSome = document.getElementById("lugSome");
    const lugMany = document.getElementById("lugMany");

    function setLuggage(v) {
      luggage = v;
      lugNone.setAttribute("aria-pressed", v === "Nessuno" ? "true" : "false");
      lugSome.setAttribute("aria-pressed", v === "1–2 valigie" ? "true" : "false");
      lugMany.setAttribute("aria-pressed", v === "Molti bagagli" ? "true" : "false");
    }
    lugNone.addEventListener("click", () => setLuggage("Nessuno"));
    lugSome.addEventListener("click", () => setLuggage("1–2 valigie"));
    lugMany.addEventListener("click", () => setLuggage("Molti bagagli"));

    // --- (1) Alert campi mancanti ---
    const formAlert = document.getElementById("formAlert");
    const formAlertText = document.getElementById("formAlertText");

    function showFormAlert(missingLabels) {
      formAlertText.textContent = "Manca: " + missingLabels.join(" · ");
      formAlert.classList.remove("hidden");
    }
    function hideFormAlert() {
      formAlert.classList.add("hidden");
      formAlertText.textContent = "";
    }

    function focusFirstMissing(missingIds) {
      const first = missingIds[0];
      if (!first) return;
      const el = document.getElementById(first);
      if (el) el.focus({ preventScroll: true });
    }

    // Form submit -> invio WhatsApp strutturato
    const form = document.getElementById("quoteForm");
    const resetBtn = document.getElementById("resetBtn");
    const invoice = document.getElementById("invoice");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      hideFormAlert();

      const vehicle = document.getElementById("vehicle").value.trim();
      const serviceType = document.getElementById("serviceType").value.trim();
      const from = document.getElementById("from").value.trim();
      const to = document.getElementById("to").value.trim();
      const stops = document.getElementById("stops").value.trim();
      const whenRaw = document.getElementById("when").value.trim();
      const when = formatDateTimeIT(whenRaw);
      const pax = document.getElementById("pax").value.trim();
      const name = document.getElementById("name").value.trim();
      const phoneInput = document.getElementById("phoneInput").value.trim();
      const notes = document.getElementById("notes").value.trim();

      // (1) validazione esplicita (messaggio chiaro)
      const missingLabels = [];
      const missingIds = [];

      if (!vehicle) { missingLabels.push("Categoria veicolo"); missingIds.push("vehicle"); }
      if (!from) { missingLabels.push("Partenza"); missingIds.push("from"); }
      if (!to) { missingLabels.push("Destinazione"); missingIds.push("to"); }
      if (!whenRaw) { missingLabels.push("Data/Ora"); missingIds.push("when"); }
      if (!pax) { missingLabels.push("Passeggeri"); missingIds.push("pax"); }

      if (missingLabels.length) {
        showFormAlert(missingLabels);
        scrollToPreventivoAndFocus();
        setTimeout(() => focusFirstMissing(missingIds), 420);
        return;
      }

      let msg = "Ciao! Vorrei un preventivo NCC con NexaRide.\n";
      msg += `Tipo servizio: ${serviceType}\n`;
      msg += `Categoria veicolo: ${vehicle}\n`;
      msg += `Partenza: ${from}\n`;
      msg += `Destinazione: ${to}\n`;
      if (stops) msg += `Fermate intermedie: ${stops}\n`;
      msg += `Data/Ora: ${when}\n`;
      msg += `Passeggeri: ${pax}\n`;
      msg += `Bagagli: ${luggage}\n`;
      msg += `Fattura: ${invoice.checked ? "Sì" : "No"}\n`;
      msg += `Preferenza contatto: ${contactPref}\n`;
      if (name) msg += `Nome: ${name}\n`;
      if (phoneInput) msg += `Telefono: ${phoneInput}\n`;
      if (notes) msg += `Note: ${notes}\n`;

      // Se preferiscono chiamata, chiedi esplicitamente di richiamare
      if (contactPref === "Chiamata") {
        msg += "\nPuoi chiamarmi per confermare disponibilità e prezzo? Grazie.\n";
      }

      openWhatsAppWithText(msg);
    });

    // (2) su input manuale: se cambiano la data, mantieni min aggiornato
    document.getElementById("when").addEventListener("focus", () => setMinDateTimeNow());

    resetBtn.addEventListener("click", () => {
      form.reset();

      // ripristina placeholder su select
      document.getElementById("vehicle").selectedIndex = 0;
      document.getElementById("pax").selectedIndex = 0;

      clearFleetSelection();
      hideFormAlert();

      // reset segmented
      setContactPref("WhatsApp");
      setLuggage("Nessuno");

      // reset datetime min + default +60
      setMinDateTimeNow();
      document.getElementById("when").value = "";
      setDefaultDateTimePlus60();

      // label veicolo
      updateSelectedVehicleUI();
    });

    // init label veicolo
    updateSelectedVehicleUI();
  </script>
</body>
</html>
